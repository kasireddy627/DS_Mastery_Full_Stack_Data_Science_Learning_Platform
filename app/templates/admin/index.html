{% extends "base.html" %}
{% block content %}
<h3 class="mb-4">Admin Panel â€” Modules</h3>

<a href="{{ url_for('admin_ui.new_module') }}" class="btn btn-success mb-3">+ Add New Module</a>

<table class="table table-bordered table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Slug</th>
      <th>Free/Paid</th>
      <th>Order</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
  {% for m in modules|sort(attribute="order")|sort(attribute="id") %}
  <tr>
    <td>{{ m.id }}</td>
    <td>{{ m.title }}</td>
    <td>{{ m.slug }}</td>
    <td>{% if m.is_free %}Free{% else %}Paid{% endif %}</td>
    <td>{{ m.order }}</td>
    <td>
      <a class="btn btn-sm btn-outline-primary" href="{{ url_for('admin_ui.edit_module', id=m.id) }}">Edit</a>
      <form action="{{ url_for('admin_ui.delete_module', id=m.id) }}" method="POST" style="display:inline-block">
        <button class="btn btn-sm btn-danger" onclick="return confirm('Delete module?')">Delete</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</tbody>
</table>

{% endblock %}
